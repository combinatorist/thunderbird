From: Carsten Schoenert <c.schoenert@t-online.de>
Date: Sun, 14 Jan 2018 14:51:43 +0100
Subject: Bug 1418598 - Make cargo-linker properly handle quoted strings

---
 mozilla/build/cargo-linker | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/mozilla/build/cargo-linker b/mozilla/build/cargo-linker
index daba62f..31864d2 100755
--- a/mozilla/build/cargo-linker
+++ b/mozilla/build/cargo-linker
@@ -16,5 +16,7 @@
 # * MOZ_CARGO_WRAP_LDFLAGS contains space-separated arguments to pass,
 #   and not quoting it ensures that either of those arguments is passed
 #   as a separate argument to the actual LD.
+#
+# $@ is doubly quoted for the eval. See bug 1418598.
 
-${MOZ_CARGO_WRAP_LD} ${MOZ_CARGO_WRAP_LDFLAGS} "$@"
+eval ${MOZ_CARGO_WRAP_LD} ${MOZ_CARGO_WRAP_LDFLAGS} '"$@"'
